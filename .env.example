# ============================================================================
# Consensus Coder Skill - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control
# ============================================================================

# ============================================================================
# CLAWDBOT INTEGRATION
# ============================================================================

# Base workspace directory for Clawdbot (default: ~/.clawdbot)
# CLAWDBOT_WORKSPACE=~/.clawdbot

# Skill-specific workspace (default: CLAWDBOT_WORKSPACE/consensus-coder)
# CONSENSUS_WORKSPACE=~/.clawdbot/consensus-coder

# ============================================================================
# DEBUG & LOGGING
# ============================================================================

# Enable debug logging (true/false, default: false)
DEBUG=false

# Log level (trace/debug/info/warn/error, default: info)
LOG_LEVEL=info

# Log output format (json/text, default: text)
LOG_FORMAT=text

# ============================================================================
# DEBATE CONFIGURATION
# ============================================================================

# Maximum number of debate rounds (default: 5)
CONSENSUS_MAX_ROUNDS=5

# Convergence threshold: confidence level required to end debate (0-1, default: 0.85)
# Higher = require more agreement, takes longer
# Lower = converge faster, potentially less confident
CONSENSUS_CONVERGENCE_THRESHOLD=0.85

# Uncertainty threshold: below this, debate continues (0-1, default: 0.15)
# This is the inverse of convergence threshold
# Automatically calculated if not set
# CONSENSUS_UNCERTAINTY_THRESHOLD=0.15

# Voting weights for each model (comma-separated key=value)
# Format: model1=weight1,model2=weight2
# Higher weight = more influence on final decision
CONSENSUS_VOTING_WEIGHTS=claude-opus=1.5,gemini=1.0,gpt-4=0.9

# ============================================================================
# TIMEOUT CONFIGURATION (milliseconds)
# ============================================================================

# Total debate timeout (default: 300000 = 5 minutes)
CONSENSUS_DEBATE_TIMEOUT_MS=300000

# Per-round timeout (default: 60000 = 1 minute)
CONSENSUS_ROUND_TIMEOUT_MS=60000

# Per-API-call timeout (default: 30000 = 30 seconds)
CONSENSUS_API_TIMEOUT_MS=30000

# ============================================================================
# MODEL CONFIGURATION
# ============================================================================

# Model used for initial problem diagnosis
CONSENSUS_MODEL_DIAGNOSIS=claude-opus

# Primary reviewer model
CONSENSUS_MODEL_REVIEWER_1=gemini-pro

# Secondary reviewer model
CONSENSUS_MODEL_REVIEWER_2=gpt-4

# ============================================================================
# PERSISTENCE & STATE MANAGEMENT
# ============================================================================

# Directory for persisting debate state (default: ~/.clawdbot/consensus-coder/debates)
CONSENSUS_PERSISTENCE_DIR=~/.clawdbot/consensus-coder/debates

# How long to keep completed debates (days, default: 30)
CONSENSUS_RETENTION_DAYS=30

# Auto-cleanup old debates on startup (true/false, default: true)
CONSENSUS_AUTO_CLEANUP=true

# Backup debates before cleanup (true/false, default: true)
CONSENSUS_BACKUP_ON_CLEANUP=true

# ============================================================================
# RETRY & ERROR HANDLING
# ============================================================================

# Maximum retry attempts for transient failures (default: 3)
CONSENSUS_MAX_RETRIES=3

# Initial retry delay in milliseconds (default: 1000)
CONSENSUS_RETRY_BASE_DELAY_MS=1000

# Backoff multiplier for exponential backoff (default: 2)
CONSENSUS_RETRY_BACKOFF_MULTIPLIER=2

# Maximum total retry time (default: 60000 = 1 minute)
CONSENSUS_RETRY_MAX_TOTAL_MS=60000

# ============================================================================
# AUGGIE INTEGRATION (Code Implementation)
# ============================================================================

# Enable Auggie for implementation (true/false, default: true)
CONSENSUS_AUGGIE_ENABLED=true

# Auggie command (usually "auggie")
CONSENSUS_AUGGIE_COMMAND=auggie

# Auggie output directory for generated code
CONSENSUS_AUGGIE_OUTPUT_DIR=./generated-code

# Auggie model to use for implementation
# CONSENSUS_AUGGIE_MODEL=claude-opus

# ============================================================================
# API KEYS (if using external models)
# ============================================================================
# WARNING: NEVER commit actual API keys to version control!
# Use GitHub Secrets or CI/CD environment variables instead
# ============================================================================

# Anthropic API key (for Claude models)
# Get from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-...

# Google AI API key (for Gemini models)
# Get from: https://ai.google.dev/
# GOOGLE_AI_API_KEY=sk-...

# OpenAI API key (for GPT models)
# Get from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...

# ============================================================================
# ADVANCED OPTIONS
# ============================================================================

# Enable anonymous usage telemetry (true/false, default: false)
CONSENSUS_TELEMETRY_ENABLED=false

# Custom debate prompt template (path to file)
# CONSENSUS_DEBATE_PROMPT_TEMPLATE=./prompts/debate.md

# Custom synthesis prompt template
# CONSENSUS_SYNTHESIS_PROMPT_TEMPLATE=./prompts/synthesis.md

# Seed for reproducible debates (optional)
# CONSENSUS_RANDOM_SEED=12345

# Enable strict mode: fail on any warning (true/false, default: false)
CONSENSUS_STRICT_MODE=false

# ============================================================================
# CLAWDBOT SKILL REGISTRATION
# ============================================================================

# Skill ID (should match package.json name without @org/)
SKILL_ID=consensus-coder

# Skill version
SKILL_VERSION=1.0.0

# Is this skill enabled? (true/false)
SKILL_ENABLED=true

# Priority level for skill discovery (0-100, higher = higher priority)
SKILL_PRIORITY=50

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Number of worker threads for parallel operations (default: auto-detect)
# Leave unset for CPU-count auto-detection
# CONSENSUS_WORKER_THREADS=4

# Max concurrent API calls (default: 5)
CONSENSUS_MAX_CONCURRENT_CALLS=5

# Memory limit for debate cache (MB, default: 500)
CONSENSUS_CACHE_MEMORY_LIMIT_MB=500

# ============================================================================
# INTEGRATION HOOKS
# ============================================================================

# URL to POST debate results to (optional)
# CONSENSUS_WEBHOOK_URL=https://your-server.com/webhooks/consensus

# Webhook authentication token
# CONSENSUS_WEBHOOK_TOKEN=sk-webhook-...

# ============================================================================
# ENVIRONMENT
# ============================================================================

# Node environment (development/production, default: production)
NODE_ENV=production

# Port for skill API server (if running standalone)
PORT=3000

# ============================================================================
# NOTES
# ============================================================================
#
# 1. All paths can use ~ for home directory
# 2. All timeouts are in milliseconds
# 3. Weights should be positive numbers (decimals OK)
# 4. Boolean values: true/false (case-insensitive)
# 5. Lists use comma-separated format: item1,item2,item3
# 6. Key=value pairs use: key1=value1,key2=value2
#
# For more details, see README.md
#
# ============================================================================
